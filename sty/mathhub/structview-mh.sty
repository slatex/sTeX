%%
%% This is file `structview-mh.sty',
%% generated with the docstrip utility.
%%
%% The original source files were:
%%
%% mathhub.dtx  (with options: `structview')
%% 
\ProvidesPackage{structview-mh}[2019/03/20 v1.1 MathHub support for the sTeX structview package]
\RequirePackage{mathhub}
\newenvironment{mhstructure}[3][]{%
  \gdef\@@doit{\importmhmodule[#1]{#3}}%
  \ifmod@show\par\noindent structure import "#2" from module #3 \@@doit\fi%
  \ignorespacesandpars}
{\aftergroup\@@doit\ifmod@show end import\fi%
  \ignorespacesandparsafterend}
\newenvironment{importmhmodulevia}[2][]%
{\PackageError{structview-mh}%
  {The {importmhmodulevia} environment is deprecated}{use the {mhstructure} instead!}%
  \begin{mhstructure}[#1]{missing}{#2}}
{\end{mhstructure}}
\srefaddidkey{mhview}
\addmetakey{mhview}{display}
\addmetakey{mhview}{creators}
\addmetakey{mhview}{contributors}
\addmetakey{mhview}{srccite}
\addmetakey*{mhview}{title}
\addmetakey{mhview}{type}
\addmetakey{mhview}{fromrepos}
\addmetakey{mhview}{torepos}
\addmetakey{mhview}{frompath}
\addmetakey{mhview}{topath}
\newenvironment{mhview}[3][]% keys, from, to
{\metasetkeys{mhview}{#1}%
  \sref@target%
  \begin{@mhview}{#2}{#3}%
  \view@heading{#2}{#3}{\mhview@display}{\mhview@title}%
  \ignorespacesandpars}
{\end{@mhview}\ignorespacesandparsafterend}
\ifmod@show\surroundwithmdframed{mhview}\fi
\newenvironment{@mhview}[2]{%from, to
  \usemhmodule[mhrepos=\mhview@fromrepos,path=\mhview@frompath]{#1}%
  \usemhmodule[mhrepos=\mhview@torepos,path=\mhview@topath]{#2}%
}{}%
\newenvironment{mhviewsketch}[3][]%
{\PackageError{structview}%
  {The {mhviewsketch} environment is deprecated}{use the {mhview} instead!}%
  \begin{mhview}[#1]{#2}{#3}}
{\end{mhview}}
\newenvironment{mhinlineView}[2][]% keys, source
{\metasetkeys{mhview}{#1}\sref@target%
  \importmhmodule[mhrepos=\mhview@fromrepos,path=\mhview@frompath]{#2}%
  \ignorespacesandpars}
{\ignorespacesandpars}
\newcommand\mhinlineview[3][]{\begin{mhinlineView}[#1]{#2}{\module@id}#3\end{mhinlineView}}
\endinput
%%
%% End of file `structview-mh.sty'.
