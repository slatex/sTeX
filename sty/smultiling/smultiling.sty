%%
%% This is file `smultiling.sty',
%% generated with the docstrip utility.
%%
%% The original source files were:
%%
%% smultiling.dtx  (with options: `sty')
%% 
\NeedsTeXFormat{LaTeX2e}[1999/12/01]
\ProvidesPackage{smultiling}[2014/04/19 v0.1 Multilingual Support for sTeX]
\newif\if@langfiles\@langfilesfalse
\DeclareOption{langfiles}{\@langfilestrue}
\ProcessOptions
\RequirePackage{etoolbox}
\RequirePackage{modules}
\newenvironment{modsig}[2][]{%
\def\@test{#1}%
\ifx\@test\@empty%
\begin{module}[id=#2]%
\else%
\begin{module}[id=#2,#1]%
\fi%
}{%
\end{module}%
}%
\newenvironment{viewsig}[4][]{%
\def\@test{#1}%
\ifx\@test\@empty%
\begin{view}[id=#2,ext=tex]{#3}{#4}%
\else%
\begin{view}[id=#2,#1,ext=tex]{#3}{#4}%
\fi%
}{%
\end{view}%
}%
\newenvironment{mhviewsig}[4][]{%
\def\@test{#1}%
\ifx\@test\@empty%
\begin{mhview}[id=#2,ext=tex]{#3}{#4}%
\else%
\begin{mhview}[id=#2,#1,ext=tex]{#3}{#4}%
\fi%
}{%
\end{mhview}%
}%
\newrobustcmd\symi{\@ifstar\@symi@star\@symi}
\newrobustcmd\@symi[1]{\if@importing\else Symbol: \textsf{#1}\fi}
\newrobustcmd\@symi@star[1]{\if@importing\else Primary Symbol: \textsf{#1}\fi}
\newrobustcmd\symii{\@ifstar\@symii@star\@symii}
\newrobustcmd\@symii[2]{\if@importing\else Symbol: \textsf{#1-#2}\fi}
\newrobustcmd\@symii@star[2]{\if@importing\else Primary Symbol: \textsf{#1-#2}\fi}
\newrobustcmd\symiii{\@ifstar\@symiii@star\@symiii}
\newrobustcmd\@symiii[3]{\if@importing\else Symbol: \textsf{#1-#2-#3}\fi}
\newrobustcmd\@symiii@star[3]{\if@importing\else Primary Symbol: \textsf{#1-#2-#3}\fi}
\addmetakey{modnl}{load}
\addmetakey*{modnl}{title}
\addmetakey*{modnl}{creators}
\addmetakey*{modnl}{contributors}
\addmetakey{modnl}{srccite}
\addmetakey{modnl}{primary}[yes]
<<<<<<< HEAD
\newenvironment{modnl}[3][]{%
\metasetkeys{modnl}{#1}%
\def\@test{#1}%
\ifx\@test\@empty%
\begin{module}[id=#2.#3]%
\else%
\begin{module}[id=#2.#3,#1]%
\fi%
\if@langfiles%
\importmodule[load=#2,ext=tex]{#2}%
\else%
\ifx\modnl@load\@empty%
\importmodule{#2}%
\else%
\importmodule[ext=tex,load=\modnl@load]{#2}%
\fi%
\fi%
}{%
\end{module}%
}%
=======
\newenvironment{modnl}[3][]{\metasetkeys{modnl}{#1}%
\def\@test{#1}\ifx\@test\@empty\begin{module}[id=#2.#3]\else\begin{module}[id=#2.#3,#1]\fi%
\if@langfiles\importmodule[load=#2,ext=tex]{#2}\else
\ifx\modnl@load\@empty\importmodule{#2}\else\importmodule[ext=tex,load=\modnl@load]{#2}\fi%
\fi}
{\end{module}}
>>>>>>> eac25a91613ae30f20bd363f8e94e03245c7c0da
\addmetakey{mhmodnl}{repos}
\addmetakey{mhmodnl}{path}
\addmetakey*{mhmodnl}{title}
\addmetakey*{mhmodnl}{creators}
\addmetakey*{mhmodnl}{contributors}
\addmetakey{mhmodnl}{srccite}
\addmetakey{primary}{mhmodnl}[yes]
<<<<<<< HEAD
\newenvironment{mhmodnl}[3][]{%
\metasetkeys{mhmodnl}{#1}%
\def\@test{#1}%
\ifx\@test\@empty%
\begin{module}[id=#2.#3]%
\else%
\begin{module}[id=#2.#3,#1]%
\fi%
\edef\@repos{%
\ifx\mhmodnl@repos\@empty%
\mh@currentrepos%
\else%
\mhmodnl@repos%
\fi%
}%
\if@langfiles%
\importmhmodule[repos=\@repos,load=#2,ext=tex]{#2}%
\else%
\ifx\mhmodnl@load\@empty%
\importmodule{#2}%
\else%
\importmodule[ext=tex,load=\mhmodnl@load]{#2}%
\fi%
\fi%
}{%
\end{module}%
}%
\newenvironment{viewnl}[5][]{%
\def\@test{#1}%
\ifx\@test\@empty%
\begin{viewsketch}[id=#2.#3,ext=tex]{#4}{#5}%
\else%
\begin{viewsketch}[id=#2.#3,#1,ext=tex]{#4}{#5}%
\fi%
}{%
\end{viewsketch}%
}%
\newenvironment{mhviewnl}[5][]{%
\def\@test{#1}%
\ifx\@test\@empty%
\begin{mhviewsketch}[id=#2.#3,ext=tex]{#4}{#5}%
\else%
\begin{mhviewsketch}[id=#2.#3,#1,ext=tex]{#4}{#5}%
\fi%
}{%
\end{mhviewsketch}%
}%
=======
\newenvironment{mhmodnl}[3][]{\metasetkeys{mhmodnl}{#1}%
\def\@test{#1}\ifx\@test\@empty\begin{module}[id=#2.#3]\else\begin{module}[id=#2.#3,#1]\fi%
\edef\@repos{\ifx\mhmodnl@repos\@empty\mh@currentrepos\else\mhmodnl@repos}
\if@langfiles\importmhmodule[repos=\@repos,load=#2,ext=tex]{#2}\else
\ifx\mhmodnl@load\@empty\importmodule{#2}\else\importmodule[ext=tex,load=\mhmodnl@load]{#2}\fi%
\fi}
{\end{module}}
\newenvironment{viewnl}[5][]{\def\@test{#1}\ifx\@test\@empty%
\begin{viewsketch}[id=#2.#3,ext=tex]{#4}{#5}\else%
\begin{viewsketch}[id=#2.#3,#1,ext=tex]{#4}{#5}\fi}
{\end{viewsketch}}
\newenvironment{mhviewnl}[5][]{\def\@test{#1}\ifx\@test\@empty%
\begin{mhviewsketch}[id=#2.#3,ext=tex]{#4}{#5}\else%
\begin{mhviewsketch}[id=#2.#3,#1,ext=tex]{#4}{#5}\fi}
{\end{mhviewsketch}}
>>>>>>> eac25a91613ae30f20bd363f8e94e03245c7c0da
\def\@instring#1#2{TT\fi\begingroup\edef\x{\endgroup\noexpand\in@{#1}{#2}}\x\ifin@}
\newcommand\mtrefi[2][]{\if\@instring{?}{#1}\@mtref #1\relax{#2}\else\termref[cd=#1]{#2}\fi}
\def\@mtref#1?#2\relax{\termref[cd=#1,name=#2]}
\newcommand\mtrefii[3][]{\mtrefi[#1]{#2 #3}}
\newcommand\mtrefiii[4][]{\mtrefi[#1]{#2 #3 #4}}
\newcommand\ttl[1]{\red{TTL: #1}}
\endinput
%%
%% End of file `smultiling.sty'.
