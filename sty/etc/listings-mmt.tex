\lstset{basicstyle=\sf\footnotesize,columns=fullflexible}

\lstnewenvironment{code}[1][mathescape=false]{\lstset{language=XML, #1}}{}

\newcommand{\delima}{\mid\negmedspace \mid}
\newcommand{\delimb}{\delima\negmedspace \delima}
\newcommand{\GS}{\ensuremath{\textcolor{RedViolet}{\delimb\negmedspace\delimb}}}
\newcommand{\RS}{\ensuremath{\textcolor{Green}{\delimb}}}
\newcommand{\US}{\ensuremath{\textcolor{Turquoise}{\delima}}}

\lstdefinestyle{mmt}{	
	keywordstyle=\color{Emerald},
	columns=flexible
}
\lstdefinelanguage{mmt}{
	morekeywords={theory,view,include,namespace,rule,role,implicit,import},
	morecomment=[l][\color{Gray}]{//},
	% morecomment={[s]{//}{‚ùö},[s]{//}{‚ùô},[s]{//}{‚ùò}}
}
\lstnewenvironment{mmtcode}[1][language=mmt]{\lstset{language=mmt,style=mmt,inputencoding=utf8,escapechar=\&,#1}}{}
\lstnewenvironment{nmmtcode}[1][language=mmt]{\lstset{xleftmargin=1.2em,language=mmt,style=mmt,inputencoding=utf8,escapechar=\&,#1}}{}
\lstdefinestyle{scala}{	
	keywordstyle=\color{BurntOrange}
}
\lstdefinelanguage{scala}{
	emphstyle=\underbar,
	classoffset=0,keywordstyle=\bfseries\color{BurntOrange},
	morekeywords={case,class,object,trait,extends,match,if,else,def,implicit,import,val,var,this,override,with,return,abstract},
	classoffset=1,keywordstyle=\color{blue},
	morekeywords={OMA,OMS,OMBIND,OMV,OMID,Context,VarDecl,Term,LocalName,GlobalName,MPath,Solver,Stack,Rule,
	History,Inhabitable,Subtyping,Equality,Typing,Common,Judgment,FormationRule,CheckingRule,IntroductionRule,
	EliminationRule,InferenceRule,TypingRule,ComputationRule,TypeBasedEqualityRule,TermBasedEqualityRule,
	TermHeadBasedEqualityRule,Continue,CheckingCallback,Simplifiability,Simplify,RecurseOnly,SubtypingRule,
	VarianceRule,TypeBasedSolutionRule,DerivedDeclaration,StructuralFeature,Elaboration,FormatBasedExtension,
	Marker,ExtendedCheckingEnvironment,DeclaredModule,Universe,InhabitableRule,UniverseRule,ElementContainer,Declaration,
	OMMOD,ContentPath,RealizedType,SemanticType,StandardNat},
	classoffset=2,keywordstyle=\color{PineGreen},
	morekeywords={Option,Some,None,Boolean,String,List,Int,true,false,Nil,BigInt,Double},
	classoffset=0,
	morecomment=[l][\color{Gray}]{//},
	morecomment=[s][\color{Gray}]{/*}{*/},
	morecomment=[s][\color{OliveGreen}]{/**}{**/},
	morestring=[b][\color{Purple}]",
}
\lstnewenvironment{scalacode}[1][language=scala]{\lstset{language=scala,style=scala,inputencoding=utf8,escapechar=\&,#1}}{}
\lstnewenvironment{nscalacode}[1][language=scala]{\lstset{xleftmargin=1.2em,numbers=left,language=scala,style=scala,inputencoding=utf8,escapechar=\&,#1}}{}

%\newunicodechar{‚Üí}{\ensuremath{\rightarrow}}
\lstset{
	literate={‚Üí}{\ensuremath{\rightarrow\ }}1
			{‚ü∂}{\ensuremath{\rightarrow\ }}1
			{Œ†}{\ensuremath{\Pi}}1
			{‚üπ}{\ensuremath{\Longrightarrow\ }}1
			{Œª}{\ensuremath{\lambda}}1
			{‚ü®}{\ensuremath{\langle}}1
			{‚ü©}{\ensuremath{\rangle}}1
			{‚ùö}{\GS}1
			{‚ùô}{\RS}1
			{‚ùò}{\US}1
			{Œ£}{\ensuremath{\sum}}1
			{‚Ä¶}{\ldots}1
			{√ó}{\ensuremath{\times}}1
			{œÄ}{\ensuremath{\pi}}1
			{‚®Å}{\ensuremath{\bigoplus}}1
			{‚Ü™}{\ensuremath{\hookrightarrow}}1
			{‚Ü©}{\ensuremath{\hookleftarrow}}1
			{‚äï}{\ensuremath{\oplus}}1
			{‚àÖ}{\ensuremath{\emptyset}}1
			{‚òÖ}{\ensuremath{\star}}1
			{‚Ñï}{\ensuremath{\mathbb N}}1
			{‚àò}{\ensuremath{\circ}}1
			{‚àÄ}{\ensuremath{\forall}}1
			{‚âê}{\ensuremath{\doteq}}1
			{‚ä¶}{\ensuremath{\vdash}}1
			{ùí∞}{\ensuremath{\mathcal U}}1
			{‚â§}{\ensuremath{\leq }}1
			{‚â•}{\ensuremath{\geq }}1
			{&}{\ampersand}1
}

%%% Local Variables:
%%% mode: latex
%%% mode: visual-line
%%% fill-column: 5000
%%% TeX-master: "paper"
%%% End:
